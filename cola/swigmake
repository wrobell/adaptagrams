all: cola.jnilib colajava.jar

cola_wrap.cxx swig-worked: cola.i
	rm -f swig-worked
	rm -rf colajava/*
	swig -c++ -java -package colajava -outdir colajava cola.i
	touch swig-worked

cola_wrap.o: cola_wrap.cxx swig-worked
	g++ `pkg-config --cflags cairomm-1.0` -I. -I/System/Library/Frameworks/JavaVM.framework/Headers -c cola_wrap.cxx

cola.jnilib: cola_wrap.o
	g++ -dynamiclib -framework JavaVM -L/Users/sboyd/Documents/Work/BiologicalPathways/cola/libcola/ -L/Users/sboyd/Documents/Work/BiologicalPathways/cola/libproject/ -L/Users/sboyd/Documents/Work/BiologicalPathways/cola/libtopology/ -L/Users/sboyd/Documents/Work/BiologicalPathways/cola/libavoid/ -L/Users/sboyd/Documents/Work/BiologicalPathways/cola/libvpsc/ -o cola.jnilib cola_wrap.o -lcola -lproject -ltopology -lavoid -lvpsc

colajava.jar: colajava swig-worked
	jar -cf colajava.jar colajava

realclean: clean
clean: mostlyclean
	rm -f cola.jnilib

mostlyclean:
	rm -f cola_wrap.o cola_wrap.cxx colajava.jar
	rm -rf colajava/*

.PHONY: all clean mostlyclean realclean
